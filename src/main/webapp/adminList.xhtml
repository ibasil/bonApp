<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title><ui:insert name="title">Admin page</ui:insert></title>
	<h:outputStylesheet library="css" name="style.css" />
</h:head>

<h:body>

	<ui:composition template="/WEB-INF/templates/templatee.xhtml">

		<ui:define name="content">
			<b:panel look="warning">
				<h3 align="center">List of all the dishes</h3>
				<hr/>
    #{adminBean.refreshDishes()}
    
    <h:form>

					<h:dataTable value="#{adminBean.dishes}" var="dish"
						styleClass="order-table" headerClass="order-table-header"
						rowClasses="order-table-odd-row,order-table-even-row" class="cntr">

						<h:column>
							<f:facet name="header">Title</f:facet> 
				#{dish.title} 
			</h:column>

						<h:column>
							<f:facet name="header"><b:iconAwesome name="cutlery" size="2x"/></f:facet>
				#{dish.made}
			</h:column>

						<h:column>
							<f:facet name="header">Category</f:facet> 
				#{dish.category} 
			</h:column>
						<h:column>
							<f:facet name="header"><b:iconAwesome name="eye-slash" size = "2x"/></f:facet>
				#{dish.status} 
						</h:column>

						<h:column>
							<f:facet name="header"><b:iconAwesome name="ban" size = "2x" onclick="if (! confirm('Really disable this?') ) { return false;}; return true; "/></f:facet>
							<h:commandLink action="#{adminBean.disable(dish)}"
								value="Block" />
						</h:column>

						<h:column>
							<f:facet name="header"><b:iconAwesome name="edit" size="2x" /></f:facet>
							<h:commandLink action="#{adminBean.update(dish)}"
										   value="Edit" />
						</h:column>

					</h:dataTable>
				</h:form>
				<br/>
				<br/>
				<p class="cntr"><h:link value="Home" outcome="admin" /></p>
			</b:panel>
		</ui:define>

	</ui:composition>

</h:body>
</html>